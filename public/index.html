<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Unidentified - a comfort-first incognito browser portal powered by the Powerthrough relay backend."
    />
    <title>Unidentified | Incognito Proxy Portal</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="edu-locked">
    <div class="edu-overlay" id="edu-overlay">
      <div class="edu-wiki">
        <header class="edu-wiki__header">
          <div>
            <p class="edu-eyebrow">Arcadia Unified &middot; Math Commons</p>
            <h1>Quadratic Readiness Portal</h1>
            <p>Reference sheet &amp; device expectations for Algebra I students.</p>
          </div>
          <div class="edu-wiki__search">
            <input type="search" placeholder="Search Arcadia Math" aria-label="Search Arcadia Math" />
            <button>Search</button>
          </div>
        </header>

        <div class="edu-wiki__body" id="edu-scroll">
          <aside class="edu-wiki__nav">
            <h2>Contents</h2>
            <ol>
              <li>Quadratic basics</li>
              <li>Digital study habits</li>
              <li>Approved resources</li>
              <li>Device expectations</li>
              <li>Safety reminder</li>
            </ol>
          </aside>
          <article class="edu-wiki__article">
            <section>
              <h3>Quadratic basics</h3>
              <p>
                Vertex form <em>y = a(x - h)^2 + k</em>. Adjust <em>a</em> for stretch/compress, translate with
                <em>h</em> and <em>k</em>. Sketch intercepts before using Desmos.
              </p>
            </section>
            <section>
              <h3>Digital study habits</h3>
              <p>Keep only math tabs open. Use split-screen notes. Plug in headphones when viewing tutorial clips.</p>
            </section>
            <section>
              <h3>Approved resources</h3>
              <ul>
                <li>Arcadia Math Commons practice sets</li>
                <li>Desmos classroom activities</li>
                <li>Arcadia “Khan-style” video primers</li>
                <li>District Google Workspace (Docs/Slides)</li>
              </ul>
            </section>
            <section>
              <h3>Device expectations</h3>
              <p>
                Chromebooks are monitored. Report suspicious tabs. Stay signed in with your Arcadia email. Use strong
                passwords and 2-step verification.
              </p>
            </section>
            <section>
              <h3>Safety reminder</h3>
              <p>Complete the required restart cycle below to verify you reviewed today’s expectations.</p>
            </section>
          </article>
        </div>

        <footer class="edu-wiki__footer">
          <div id="edu-progress" class="edu-progress">Reload the lesson 3 more times to unlock SafetyNet.</div>
          <div class="edu-actions">
            <button id="edu-restart">Reload lesson</button>
            <button id="edu-continue" disabled>Google</button>
          </div>
        </footer>
      </div>
    </div>

    <div id="app-shell">
      <header class="hero">
        <div class="hero__content">
        <img src="assets/logo.svg" class="hero__logo" alt="Unidentified Powerthrough logo" width="120" height="120" />
        <p class="hero__eyebrow">Stealth-grade comfort</p>
        <h1 class="hero__title">SafetyNet</h1>
        <p class="hero__lead">
          A purple-shaded sanctuary that keeps you off the radar while our self-hosted Powerthrough relay handles the web traffic shaping.
        </p>

        <form id="portal-form" class="portal" autocomplete="off">
          <label for="destination" class="sr-only">Enter a URL or search query</label>
          <input
            id="destination"
            name="destination"
            type="text"
            inputmode="url"
            placeholder="Type a URL or search anything..."
            required
          />
          <button type="submit">Launch secure tab</button>
        </form>

        <p id="portal-status" class="portal__status" role="status" aria-live="polite"></p>

        <div class="comfort">
          <span>Comfort toggles:</span>
          <label class="toggle">
            <input type="checkbox" id="focus-mode" />
            <span>Focus mode</span>
          </label>
          <label class="toggle">
            <input type="checkbox" id="panic-shortcut" checked />
            <span>Double-press panic</span>
          </label>
          <label class="toggle">
            <input type="checkbox" id="history-off" checked />
            <span>History off</span>
          </label>
        </div>

        <div class="cloak" aria-label="Tab cloaking & panic options">
          <span>Tab cloak:</span>
          <label class="toggle">
            <input type="checkbox" id="tab-cloak" />
            <span>Disguise as homework doc</span>
          </label>
          <label class="toggle">
            <input type="checkbox" id="auto-blank" />
            <span>Auto-launch about:blank</span>
          </label>
          <input type="text" id="cloak-title" placeholder="Custom tab title (optional)" />
          <button type="button" id="cloak-blank">Launch about:blank session</button>
        </div>

        <div class="panic-settings">
          <label for="panic-key">Panic key:</label>
          <select id="panic-key">
            <option value="Escape">Escape</option>
            <option value="F1">F1</option>
            <option value="F2">F2</option>
            <option value="Backquote">` (backtick)</option>
            <option value="Backspace">Backspace</option>
          </select>
          <small>Press twice to trigger.</small>
        </div>
      </div>

      </div>

      <div class="relay-panel" aria-live="polite">
        <p class="relay-panel__label">Active relay</p>
        <p id="active-service-name" class="relay-panel__name">SafetyNet Relay</p>
        <p id="active-service-desc" class="relay-panel__desc">
          Native Node tunnel that rewrites traffic on the fly with zero third-party dependencies.
        </p>
        <div class="relay-panel__choices" role="group" aria-label="Relay choice">
          <button class="relay-chip is-active" data-service="safetynet">Balanced</button>
          <button class="relay-chip" data-service="safetynet_headless">Headless</button>
          <button class="relay-chip" data-service="safetynet_lite">Lite</button>
        </div>

        <div class="relay-panel__status">
          <p class="relay-panel__status-title">Quick status</p>
          <dl>
            <div>
              <dt>Encryption</dt>
              <dd>Auto-select</dd>
            </div>
            <div>
              <dt>Trace logging</dt>
              <dd>Disabled</dd>
            </div>
            <div>
              <dt>Comfort rating</dt>
              <dd>Ultra plush</dd>
            </div>
          </dl>
        </div>
        <div class="transport-controls" aria-label="Transport controls">
          <div class="transport-controls__summary">
            <p class="transport-controls__label">Transport</p>
            <p id="transport-state-label" class="transport-controls__state">Tunnel: unknown</p>
          </div>
          <div class="relay-panel__choices transport-controls__choices" role="group" aria-label="Transport preference">
            <button class="transport-chip relay-chip is-active" data-transport="auto">Auto</button>
            <button class="transport-chip relay-chip" data-transport="tunnel">Tunnel</button>
            <button class="transport-chip relay-chip" data-transport="direct">Direct</button>
          </div>
          <small id="transport-metrics-hint" class="transport-controls__hint">
            Balancing reliability and latency across relays.
          </small>
        </div>
      </div>
      </header>

      <section class="workspace" aria-label="Powerthrough workspace">
        <div class="workspace__chrome">
          <p id="workspace-status">Awaiting secure session.</p>
          <button type="button" id="workspace-reset">Reset view</button>
          <button type="button" id="fullscreen-toggle">Enter fullscreen</button>
        </div>
        <div class="workspace__frame">
          <div id="frame-placeholder" class="workspace__placeholder">
            Your secure session will render here once you launch a destination.
          </div>
          <iframe
            id="proxy-frame"
            title="Powerthrough session"
            sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"
            loading="lazy"
          ></iframe>
        </div>
      </section>

      <main>
        <section class="features">
          <article>
            <h2>No account trail</h2>
            <p>Browser-grade privacy without the sign-in baggage. Everything is ephemeral unless you say otherwise.</p>
          </article>
          <article>
            <h2>Pure SafetyNet</h2>
            <p>Everything runs through a single, hardened SafetyNet relay so you always know what stack you're using.</p>
          </article>
          <article>
            <h2>Comfort-first UX</h2>
            <p>A centered search bar, generous spacing, and purple gradients keep things calm even when traffic spikes.</p>
          </article>
        </section>

        <section class="mission" id="mission">
          <p>The goal of SafetyNet is to ensure safety, and this proxy site was created by @1d3nt1ty!</p>
        </section>

        <section class="how-it-works">
          <h2>How SafetyNet works</h2>
          <ol>
            <li>Paste a URL or type anything to search privately.</li>
            <li>SafetyNet launches a cloaked tab through our native rewrite backend.</li>
          </ol>
          <p class="subtle">Need to plug in a different deployment? Update the relay configuration inside <code>public/app.js</code>.</p>
        </section>

        <section class="credits" aria-label="Project credits">
          <p>James / @1d3nt1ty &mdash; Solo project, main coder and designer.</p>
        </section>
      </main>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
